Building docs on GitHub
=======================

This repo uses GitHub Actions to set up an environment, build the docs, and add
to the ``gh-pages`` branch, which is automatically served at the URL
``https://<user>.github.io/<project>``, which in this case is
https://nichd-bspc.github.io/documentation-template.

This GitHub Actions configuration will:

- install conda and any dependencies in :file:`requirements.txt`
- run doctests
- build the docs
- commit them to the `gh-pages` branch
- upload them as an artifact in the Actions web interface so you can inspect

It will do those steps on every push. If we're on the `main` branch, then the
docs will also be pushed to the `gh-pages` branch, at which time they will be
publicly available at `https://<user>.github.io/<project>`.

You can find the configuration in this repository under
:file:`.github/workflows/main.yml`, and it is included directly in this
documentation below.

.. note::

    Note that GitHub by default expects pages generated by `Jekyll
    <https://jekyllrb.com/docs/>`_. You need to add a file at the top level
    of your repo, :file:`.nojekyll`, to tell GitHub to not expect
    Jekyll-generated docs. The GitHub Actions for this repo take care of
    this.

``.github/workflows/main.yml``
------------------------------

.. literalinclude:: ../../.github/workflows/main.yml
    :language: yaml
    :linenos:
